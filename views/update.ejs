<%- include('partials/header.ejs'); -%>

<section>
  <h1>✏️ Edit Movie</h1>

  <% if (errorMessage) { %>
    <div id="error-message">
      <i class="fas fa-exclamation-circle"></i>
      <span><%= errorMessage %></span>
    </div>
  <% } %>

  <form action="/update/<%= movie.id %>" method="post">
    <div class="form-group">
      <label for="title">Movie Title *</label>
      <input
        type="text"
        id="title"
        name="title"
        value="<%= movie.title %>"
        placeholder="Enter movie title"
        required
      />
    </div>

    <div class="form-group">
      <label for="director">Director *</label>
      <input
        type="text"
        id="director"
        name="director"
        value="<%= movie.director %>"
        placeholder="Enter director name"
        required
      />
    </div>

    <div class="form-group">
      <label for="rating">Rating (1-10) *</label>
      <input
        type="number"
        id="rating"
        name="rating"
        value="<%= movie.rating %>"
        min="1"
        max="10"
        step="0.1"
        placeholder="e.g., 8.5"
        required
      />
    </div>

    <div class="form-group">
      <label for="description">Description *</label>
      <textarea
        id="description"
        name="description"
        placeholder="Movie description/plot..."
        required
      ><%= movie.description %></textarea>
    </div>

    <div class="form-group">
      <label for="userComment">Your Comment (Optional)</label>
      <textarea
        id="userComment"
        name="userComment"
        placeholder="Add your personal comment about this movie..."
      ><%= movie.userComment || '' %></textarea>
    </div>

    <div style="display: flex; gap: 10px; justify-content: flex-end;">
      <a href="/" class="btn btn-secondary">
        <i class="fas fa-times"></i>
        Cancel
      </a>
      <button type="submit" class="btn btn-success">
        <i class="fas fa-save"></i>
        Save Changes
      </button>
    </div>
  </form>
</section>

<%- include('partials/footer.ejs'); -%>
